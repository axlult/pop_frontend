<div class="table-responsive">
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Tipo</th>
        <th scope="col">Inicio</th>
        <th scope="col">Vencimiento</th>
        <th scope="col">Estado</th>
        <th scope="col">Días Restantes</th>
        <th scope="col">Usuario</th> <!-- Nueva columna -->
        <th scope="col">Acciones</th>
      </tr>
    </thead>
    <tbody>
      @for (membresia of membresias(); track membresia.id) {
      <tr>
        <th scope="row">{{ membresia.id }}</th>
        <td>{{ membresia.tipo }}</td>
        <td>{{ membresia.inicio | date:'dd/MM/yyyy' }}</td>
        <td>{{ membresia.vencimiento | date:'dd/MM/yyyy' }}</td>
        <td>
          <span [ngClass]="{
            'badge bg-success': membresia.estado === 'Activa' && esActiva(membresia),
            'badge bg-danger': membresia.estado === 'Cancelada',
            'badge bg-warning': membresia.estado === 'Vencida' || 
                       (membresia.estado === 'Activa' && !esActiva(membresia))
          }">
            {{ membresia.estado }}
          </span>
        </td>
        <td>
          @if (esActiva(membresia)) {
            {{ diasRestantes(membresia) }} días
          } @else {
            -
          }
        </td>
        <td>
          @if (membresia.user) {
            {{ membresia.user.name }} {{ membresia.user.lastname }}
          } @else {
            -
          }
        </td>
        <td>
          <div class="d-flex gap-2">
            <button type="button" class="btn btn-warning" (click)="editMembresia(membresia)">Editar</button>
            <button type="button" class="btn btn-danger" (click)="deleteMembresia(membresia)">Eliminar</button>
          </div>
        </td>
      </tr>
      } @empty {
      <tr>
        <td colspan="8" class="text-center">No hay membresías registradas</td>
      </tr>
      }
    </tbody>
  </table>
</div>